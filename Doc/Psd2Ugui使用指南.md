# Psd2Ugui使用指南

> 概括：
>
> 该项目为Psd文件转换Unity中可使用的UI预制体工具

## 1 PS端指南

### 1.1 巩固之前的知识

#### 1.1.1 起名规范

建议：`<模块名>_<功能名>_<图片名>` 

模块名：图片所属模块，例如：common、email、faction

功能名：图片所代表功能，btn、icon、bg、img、text

图片名：随便起，只要不是特殊符号即可

### 1.2 准备工作

在工具项目中找到ps插件

![image-20220831160105055](.\image-20220831160105055.png)

ps插件

拷贝到 <PS安装目录>\Presets\Scripts下，或者在导出时浏览并选择该脚本。

### 1.3 流程

1. 拷贝一个新Psd文件
2. 将画板换成`组`，尽量保证一个界面对应一个Psd文件
3. 将要导出的图层进行合图、转为智能对象，并整理删除多余的图层（如果只是需要用图层作为显示而不导出，可以使用`#`作为前缀）
4. 开始对图层进行功能性命名，命名规则如下文
5. 使用脚本`PSD导出Unity.js`，选中要导出的文件夹

### 1.4 功能性命名

>  默认所有可见的图层都导出
>
> 命名基本格式：真实名字+@+属性
>
> 例如：email_tip_btn_send@按钮,左下

#### 1.4.1 对齐类型

1. 对齐方式：上，下，左，右，左下，右下，左上，右上。
2. 伸展方式：全屏，水平伸展，竖直伸展。

#### 1.4.2 组件扩展

1. 预制体：真实名字@预制体=项目中预制体名
   1. 例：`CommonTipUI@预制体=common_tip_big_ui`
   2. 项目中预制体名：找相应的程序大哥要
   3. 制作流程
      1. 将对应的png文件拖入Psd文件中
      2. 建立一个组，并命名为`真实名字@预制体=项目中预制体名`
      3. 将png所在的图层放入组内，并将图层名添加`$`前缀
   4. 规范：每一个预制体都需要在UI的svn中那边保留png文件
2. 按钮：真实名字@按钮
3. 竖直列表：真实名字@竖直列表
   1. 制作流程
      1. 建立一个组，并命名为`真实名字@竖直列表`
      2. 建立列表填充大小的图层，并填充任意颜色
      3. 将上方的图层放入组内，并将图层名添加`$`前缀
4. 水平列表：真实名字@水平列表
   1. 制作流程 如上
5. 竖直循环列表：真实名字@竖直循环列表
   1. 制作流程 如上
6. 水平循环列表：真实名字@水平循环列表
   1. 制作流程 如上
7. 进度条：正在施工
8. 滚动条：正在施工
9. 遮罩：正在施工
10. 开关：正在施工

#### 1.4.3 专题

1. 九宫格：@九宫格

## 2 Unity端指南

### 1 导入

ui给到程序中间件之后，程序将text和切图文件夹一起拖入到如下目录下，即可在WindowPrefabs下生成预制体

![image-20221129153615932](.\image-20221129153615932.png)

### 2 整理

1. 检查和调整预制体内部节点层级关系

2. 调整节点命名规范

3. 添加root节点的rc引用

4. 最后，将整理好的预制体和切图复制到自己模块所在目录，并将Studio文件夹下Texture、WindowAssets、WindowPrefabs清理干净（Studio下任何文件理论上都是临时文件，应避免手误提交）

   